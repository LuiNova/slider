requirejs.config({baseUrl:"src/javascript",paths:{app:"../dist"}}),requirejs(["main"],function(t){t.init()}),define("main",["slider"],function(t){"use strict";return{init:function(){var e=document.querySelector(".js-slider"),i=t.createComponent(e,{onSwipeEnd:function(t){var e=Math.abs(this.slideNumber),i=e,s=this.$slider.querySelectorAll(".js-slider-slide"),n=s.length;e>this.startPage?(i=e-1,this.$slider.appendChild(s[0])):e<this.startPage&&(i=e+1,this.$slider.insertBefore(s[n-1],s[0])),this.goToPage(i,0)}});console.log(i),document.addEventListener("touchmove",function(t){t.preventDefault()},!1),window.addEventListener("slide:pictureSlider",function(t){console.log("Slider Picture"),console.log(t)})}}}),define("slider",[],function(){"use strict";function t(t,e){var i;for(i in e)t[i]=e[i];return t}function e(){}var i="",s="transform",n={onSwipeEnd:e,onDragStart:e,onDrag:e,onDragEnd:e},r=function(){var t=document.createElement("div"),e="Khtml Ms O Moz Webkit".split(" "),i=e.length;return function(s){if(s in t.style)return!0;for(s=s.replace(/^[a-z]/,function(t){return t.toUpperCase()});i--;)if(e[i]+s in t.style)return!0;return!1}}(),o=(r("transform"),{init:function(e,i){var s=t({},n);return this.settings=t(s,i),this.cacheElements(e),this.loopItems(e),this.cacheValues(),this.bindEvents(),this.startPage=2,this.goToPage(2,0),this},cacheElements:function(t){this.$rootElement=t,this.$slider=this.$rootElement.querySelector(".js-slider-viewport")},cacheValues:function(){this.name=this.$rootElement.dataset.name,this.isTouch="ontouchstart"in window;var t=this.$slider.querySelector(".js-slider-slide");this.scrollableArea=t.offsetWidth*this.$slider.children.length,this.sliderWidth=this.$slider.offsetWidth},loopItems:function(t){var e=this.$slider.querySelectorAll(".js-slider-slide"),i=e.length;if(i>=2&&i<5){var s,n=2===i?2:i-2;for(this.$slider.insertBefore(e[i-2].cloneNode(!0),e[0]),this.$slider.insertBefore(e[i-1].cloneNode(!0),e[0]),s=0;s<n;s++)this.$slider.appendChild(e[s].cloneNode(!0))}else i>=5&&(this.$slider.insertBefore(e[i-2],e[0]),this.$slider.insertBefore(e[i-1],e[0]))},bindEvents:function(){this.$slider.addEventListener("touchstart",this._onTouchStart.bind(this),!1),this.$slider.addEventListener("touchmove",this._onTouchMove.bind(this),!1),this.$slider.addEventListener("touchend",this._onTouchEnd.bind(this),!1),this.$slider.addEventListener("webkitTransitionEnd",this._onScrollTransformEnd.bind(this),!1),this.$slider.addEventListener("oTransitionEnd",this._onScrollTransformEnd.bind(this),!1),this.$slider.addEventListener("transitionend",this._onScrollTransformEnd.bind(this),!1),this.$slider.addEventListener("transitionEnd",this._onScrollTransformEnd.bind(this),!1),window.addEventListener("resize",this._reSizePages,!1)},destroy:function(){this.$slider.removeEventListener("touchstart",this._onTouchStart.bind(this)),this.$slider.removeEventListener("touchmove",this._onTouchMove.bind(this)),this.$slider.removeEventListener("touchend",this._onTouchEnd.bind(this)),window.removeEventListener("resize",this._reSizePages)},_onScrollTransformEnd:function(t){this._onSwipeEnd(t),this.$slider.removeEventListener("webkitTransitionEnd",this._onScrollTransformEnd.bind(this)),this.$slider.removeEventListener("oTransitionEnd",this._onScrollTransformEnd.bind(this)),this.$slider.removeEventListener("transitionend",this._onScrollTransformEnd.bind(this)),this.$slider.removeEventListener("transitionEnd",this._onScrollTransformEnd.bind(this))},_getCoords:function(t){var e=t.touches,i=e&&e.length?e:t.changedTouches;return{pageX:i[0].pageX,pageY:i[0].pageY}},_parseEvent:function(t){var e=this._getCoords(t),i=this.startCoords.pageX-e.pageX,s=this.startCoords.pageY-e.pageY;return this._addDistanceValues(i,s)},_addDistanceValues:function(t,e){var i={distanceX:0,distanceY:0};return i.distanceX=t,i.direction=t>0?"left":"right",i},_reSizePages:function(){console.log("Rezising")},_onTouchStart:function(t){this.$slider&&(this.startCoords=this._getCoords(t),this.isScrolling=void 0,this.resistance=1,this.lastSlide=-(this.$slider.children.length-1),this.startTime=+new Date,this.pageX=this.startCoords.pageX,this.pageY=this.startCoords.pageY,this.deltaX=0,this.deltaY=0,this._setSlideNumber(0),this.$slider.style[i+"transition-duration"]=0,this.settings.onDragStart.call(this,t))},_onTouchMove:function(t){if(!(t.touches.length>1)&&this.$slider){var e=this._getCoords(t);if(this.startedMoving||(this.pageX+=e.pageX-this.pageX-1),this.deltaX=e.pageX-this.pageX,this.deltaY=e.pageY-this.pageY,this.pageX=e.pageX,this.pageY=e.pageY,"undefined"==typeof this.isScrolling&&this.startedMoving&&(this.isScrolling=Math.abs(this.deltaY)>Math.abs(this.deltaX)),!this.isScrolling){this.offsetX=this.deltaX/this.resistance+this._getScroll(),t.preventDefault(),this.resistance=0===this.slideNumber&&this.deltaX>0?this.pageX/this.sliderWidth+1.25:this.slideNumber===this.lastSlide&&this.deltaX<0?Math.abs(this.pageX)/this.sliderWidth+1.25:1,this.$slider.style[s]="translate3d("+this.offsetX+"px,0,0)",this.startedMoving=!0;var i=this._parseEvent(t);this.settings.onDrag.call(this,t,i)}}},_onTouchEnd:function(t){this.$slider&&!this.isScrolling&&(this.startedMoving=!1,this._setSlideNumber(+new Date-this.startTime<1e3&&Math.abs(this.deltaX)>15?this.deltaX<0?-1:1:0),this.offsetX=this.slideNumber*this.sliderWidth,this.$slider.style[i+"transition-duration"]=".2s",this.$slider.style[s]="translate3d("+this.offsetX+"px,0,0)",this._dispatchEvent(),this.settings.onDragEnd.call(this,t))},_onSwipeEnd:function(t){this.settings.onSwipeEnd.call(this,t)},_dispatchEvent:function(){if(this.name){var t=new CustomEvent("slide:"+this.name,{detail:{name:this.name,slideNumber:Math.abs(this.slideNumber)},bubbles:!0,cancelable:!0});this.$slider.parentNode.dispatchEvent(t)}},_getScroll:function(){var t=this.$slider.style[s].match(/translate3d\(([^,]*)/),e=t?t[1]:0;return parseInt(e,10)},_setSlideNumber:function(t){var e=t?this.deltaX<0?"ceil":"floor":"round";this.slideNumber=Math[e](this._getScroll()/(this.scrollableArea/this.$slider.children.length)),this.slideNumber+=t,this.slideNumber=Math.min(this.slideNumber,0),this.slideNumber=Math.max(-(this.$slider.children.length-1),this.slideNumber)},goToPage:function(t,e){e="undefined"==typeof e?200:e;var n=e/1e3;this.slideNumber=-t,this.offsetX=t*this.sliderWidth,this.$slider.style[i+"transition-duration"]=n+"s",this.$slider.style[s]="translate3d("+-this.offsetX+"px,0,0)",this._dispatchEvent()},next:function(){this.goToPage(Math.abs(this.slideNumber)+1)},previous:function(){this.goToPage(Math.abs(this.slideNumber)-1)}});return{createComponent:function(t,e){if(!t)return void console.log("Element does not exists in DOM");t.className+=" slider--loaded";var i=Object.create(o);return i.init(t,e)}}});